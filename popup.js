/*! For license information please see popup.js.LICENSE.txt */
(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,i,s=[],c=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){d=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,o,a,r){var i=o&&o.prototype instanceof d?o:d,l=Object.create(i.prototype);return s(l,"_invoke",function(n,o,a){var r,i,s,d=0,l=a||[],u=!1,p={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return r=t,i=0,s=e,p.n=n,c}};function g(n,o){for(i=n,s=o,t=0;!u&&d&&!a&&t<l.length;t++){var a,r=l[t],g=p.p,f=r[2];n>3?(a=f===o)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=e):r[0]<=g&&((a=n<2&&g<r[1])?(i=0,p.v=o,p.n=r[1]):g<f&&(a=n<3||r[0]>o||o>f)&&(r[4]=n,r[5]=o,p.n=f,i=0))}if(a||n>1)return c;throw u=!0,o}return function(a,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&g(l,f),i=l,s=f;(t=i<2?e:s)||!u;){r||(i?i<3?(i>1&&(p.n=-1),g(i,s)):p.n=s:p.v=s);try{if(d=2,r){if(i||(a="next"),t=r[a]){if(!(t=t.call(r,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=r.return)&&t.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);r=e}else if((t=(u=p.n<0)?s:n.call(o,p))!==c)break}catch(t){r=e,i=1,s=t}finally{d=1}}return{value:t,done:u}}}(n,a,r),!0),l}var c={};function d(){}function l(){}function u(){}t=Object.getPrototypeOf;var p=[][o]?t(t([][o]())):(s(t={},o,function(){return this}),t),g=u.prototype=d.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e}return l.prototype=u,s(g,"constructor",u),s(u,"constructor",l),l.displayName="GeneratorFunction",s(u,a,"GeneratorFunction"),s(g),s(g,a,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),(i=function(){return{w:r,m:f}})()}function s(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}s=function(e,t,n,o){function r(t,n){s(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(r("next",0),r("throw",1),r("return",2))},s(e,t,n,o)}function c(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function i(e){c(r,o,a,i,s,"next",e)}function s(e){c(r,o,a,i,s,"throw",e)}i(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,u(o.key),o)}}function u(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}console.log("[CloudHub] popup.js is loading...");var p=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("[CloudHub] CloudHubPopup constructor called"),this.currentTab="dashboard",this.providers=["aws","gcp","azure","digitalocean"],this.init()},n=[{key:"init",value:function(){this.initializeProviderStates(),this.setupEventListeners(),this.loadSettings(),this.loadCredentials(),this.refreshDashboard()}},{key:"initializeProviderStates",value:function(){var e=this;this.providers.forEach(function(t){e.setProviderConfiguredState(t,!1)})}},{key:"setupEventListeners",value:function(){var e=this;console.log("[CloudHub] Setting up event listeners..."),document.querySelectorAll(".tab").forEach(function(t){t.addEventListener("click",function(t){e.switchTab(t.target.dataset.tab)})}),document.getElementById("refresh-btn").addEventListener("click",function(){e.refreshDashboard()}),document.querySelectorAll(".provider").forEach(function(t){t.addEventListener("click",function(t){var n=t.currentTarget.dataset.provider;e.showProviderDetails(n)})}),document.getElementById("launch-instance").addEventListener("click",function(){e.showLaunchDialog()}),document.getElementById("cost-alert").addEventListener("click",function(){e.showCostAlerts()}),document.getElementById("security-scan").addEventListener("click",function(){e.runSecurityScan()}),console.log("[CloudHub] Setting up save button listeners..."),document.getElementById("save-aws").addEventListener("click",function(){console.log("[CloudHub] AWS save button clicked!"),e.saveCredentials("aws")}),document.getElementById("save-gcp").addEventListener("click",function(){e.saveCredentials("gcp")}),document.getElementById("save-azure").addEventListener("click",function(){e.saveCredentials("azure")}),document.getElementById("save-do").addEventListener("click",function(){e.saveCredentials("digitalocean")}),document.getElementById("aws-edit").addEventListener("click",function(){e.setCredentialSavedState("aws",!1)}),document.getElementById("gcp-edit").addEventListener("click",function(){e.setCredentialSavedState("gcp",!1)}),document.getElementById("azure-edit").addEventListener("click",function(){e.setCredentialSavedState("azure",!1)}),document.getElementById("do-edit").addEventListener("click",function(){e.setCredentialSavedState("digitalocean",!1)}),document.getElementById("do-reauth").addEventListener("click",function(){e.reauthenticateDigitalOcean()}),document.getElementById("auto-refresh").addEventListener("change",function(t){e.updateSetting("autoRefresh",t.target.checked)}),document.getElementById("cost-notifications").addEventListener("change",function(t){e.updateSetting("costNotifications",t.target.checked)}),document.getElementById("security-notifications").addEventListener("change",function(t){e.updateSetting("securityNotifications",t.target.checked)}),document.getElementById("ssh-method").addEventListener("change",function(t){e.updateSetting("sshMethod",t.target.value)}),document.getElementById("aws-os-user").addEventListener("input",function(t){e.updateSetting("awsOsUser",t.target.value||"ubuntu")}),document.getElementById("export-data").addEventListener("click",function(){e.exportData()}),document.getElementById("clear-data").addEventListener("click",function(){e.clearAllData()})}},{key:"switchTab",value:function(e){document.querySelectorAll(".tab").forEach(function(e){return e.classList.remove("active")}),document.querySelectorAll(".tab-content").forEach(function(e){return e.classList.remove("active")}),document.querySelector('[data-tab="'.concat(e,'"]')).classList.add("active"),document.getElementById("".concat(e,"-tab")).classList.add("active"),this.currentTab=e}},{key:"refreshDashboard",value:(y=d(i().m(function e(){var t,n,o;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return(t=document.getElementById("refresh-btn")).textContent="⟳",t.disabled=!0,e.p=1,e.n=2,chrome.runtime.sendMessage({action:"refreshAllProviders"});case 2:(n=e.v).success?(this.updateDashboard(n.data),this.updateLastSync()):console.error("Failed to refresh dashboard:",n.error),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Error refreshing dashboard:",o);case 4:return e.p=4,t.innerHTML='<img src="icons/refresh-icon.png" alt="Refresh" style="width: 16px; height: 16px;">',t.disabled=!1,e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(){return y.apply(this,arguments)})},{key:"updateDashboard",value:function(e){var t=this;this.providers.forEach(function(n){var o=e[n];o&&t.updateProviderStats(n,o)})}},{key:"updateProviderStats",value:function(e,t){var n=t.resources?this.calculateEnhancedCost(e,t.resources):"0.00";switch(e){case"aws":document.getElementById("aws-ec2-count").textContent=t.ec2Count||"-",document.getElementById("aws-cost").textContent="0.00"!==n?n:t.estimatedCost||"-";break;case"gcp":document.getElementById("gcp-compute-count").textContent=t.computeCount||"-",document.getElementById("gcp-cost").textContent="0.00"!==n?n:t.estimatedCost||"-";break;case"azure":document.getElementById("azure-vm-count").textContent=t.vmCount||"-",document.getElementById("azure-cost").textContent="0.00"!==n?n:t.estimatedCost||"-";break;case"digitalocean":document.getElementById("do-droplet-count").textContent=t.dropletCount||"-",document.getElementById("do-cost").textContent=t.realCost||t.estimatedCost||("0.00"!==n?n:"-")}}},{key:"saveCredentials",value:(h=d(i().m(function e(t){var n,o,r,s;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(console.log("[CloudHub] Starting credential save for ".concat(t)),n=this.getCredentialInputs(t),console.log("[CloudHub] Credentials collected for ".concat(t,":"),a(a({},n),{},{accessKeyId:n.accessKeyId?"".concat(n.accessKeyId.slice(0,8),"..."):void 0,secretAccessKey:n.secretAccessKey?"***":void 0,token:n.token?"***":void 0})),this.setCredentialLoadingState(t,!0),console.log("[CloudHub] Set loading state for ".concat(t)),e.p=1,console.log("[CloudHub] Sending saveCredentials message for ".concat(t)),chrome.runtime){e.n=2;break}throw new Error("chrome.runtime is not available");case 2:return console.log("[CloudHub] chrome.runtime is available, sending message..."),e.n=3,chrome.runtime.sendMessage({action:"saveCredentials",provider:t,credentials:n});case 3:if(o=e.v,console.log("[CloudHub] Save response for ".concat(t,":"),o),o){e.n=4;break}throw new Error("No response received from background script");case 4:if(!o.success){e.n=6;break}return console.log("[CloudHub] Credentials saved successfully for ".concat(t,", testing connection...")),e.n=5,this.testConnection(t);case 5:r=e.v,console.log("[CloudHub] Connection test result for ".concat(t,":"),r),r&&r.success?(console.log("[CloudHub] Connection test passed for ".concat(t,", showing saved state")),this.setCredentialSavedState(t,!0),this.setProviderConfiguredState(t,!0),this.showNotification("".concat(t.toUpperCase()," credentials saved and verified"),"success")):(console.log("[CloudHub] Connection test failed for ".concat(t,", but credentials are saved")),this.setCredentialLoadingState(t,!1),this.setCredentialSavedState(t,!0),this.setProviderConfiguredState(t,!1),this.showNotification("".concat(t.toUpperCase()," credentials saved (connection test failed - check credentials)"),"warning")),e.n=7;break;case 6:console.error("[CloudHub] Failed to save credentials for ".concat(t,":"),o.error),this.setCredentialLoadingState(t,!1),this.showNotification("Failed to save ".concat(t," credentials: ").concat(o.error),"error");case 7:e.n=9;break;case 8:e.p=8,s=e.v,console.error("[CloudHub] Error saving credentials for ".concat(t,":"),s),console.error("[CloudHub] Error stack:",s.stack),this.setCredentialLoadingState(t,!1),this.showNotification("Error saving credentials","error");case 9:console.log("[CloudHub] saveCredentials function completed for ".concat(t));case 10:return e.a(2)}},e,this,[[1,8]])})),function(e){return h.apply(this,arguments)})},{key:"setCredentialLoadingState",value:function(e,t){var n=document.getElementById("save-".concat("digitalocean"===e?"do":e)),o=n.querySelector(".btn-text"),a=n.querySelector(".btn-loading");t?(n.disabled=!0,o.style.display="none",a.style.display="inline"):(n.disabled=!1,o.style.display="inline",a.style.display="none")}},{key:"setCredentialSavedState",value:function(e,t){var n="digitalocean"===e?"do":e,o=document.getElementById("".concat(n,"-inputs")),a=document.getElementById("".concat(n,"-saved"));t?(o.style.display="none",a.style.display="block",this.clearCredentialInputs(e)):(o.style.display="block",a.style.display="none",this.setProviderConfiguredState(e,!1))}},{key:"clearCredentialInputs",value:function(e){switch(e){case"aws":document.getElementById("aws-access-key").value="",document.getElementById("aws-secret-key").value="";break;case"gcp":document.getElementById("gcp-service-account").value="";break;case"azure":document.getElementById("azure-client-secret").value="";break;case"digitalocean":document.getElementById("do-token").value=""}}},{key:"setProviderConfiguredState",value:function(e,t){var n=document.querySelector('.provider[data-provider="'.concat(e,'"]'));n&&(n.classList.remove("provider-configured","provider-unconfigured"),t?n.classList.add("provider-configured"):n.classList.add("provider-unconfigured"))}},{key:"getCredentialInputs",value:function(e){switch(e){case"aws":return{accessKeyId:document.getElementById("aws-access-key").value,secretAccessKey:document.getElementById("aws-secret-key").value,region:document.getElementById("aws-region").value||""};case"gcp":return{serviceAccount:document.getElementById("gcp-service-account").value,projectId:document.getElementById("gcp-project").value};case"azure":return{clientId:document.getElementById("azure-client-id").value,clientSecret:document.getElementById("azure-client-secret").value,tenantId:document.getElementById("azure-tenant-id").value,subscriptionId:document.getElementById("azure-subscription-id").value};case"digitalocean":return{token:document.getElementById("do-token").value};default:return{}}}},{key:"testConnection",value:(m=d(i().m(function e(t){var n,o;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"testConnection",provider:t});case 1:return n=e.v,e.a(2,n);case 2:return e.p=2,o=e.v,console.error("Error testing connection:",o),e.a(2,{success:!1,error:o.message})}},e,null,[[0,2]])})),function(e){return m.apply(this,arguments)})},{key:"loadCredentials",value:(v=d(i().m(function e(){var t,n,o,a;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return console.log("[CloudHub] Loading saved credentials..."),e.p=1,e.n=2,chrome.storage.local.get(["credentials","credentialMetadata"]);case 2:t=e.v,n=t.credentials||{},o=t.credentialMetadata||{},console.log("[CloudHub] Found credentials in storage:",Object.keys(n)),console.log("[CloudHub] Found metadata in storage:",Object.keys(o)),n.aws&&(n.aws.accessKeyId||n.aws.secretAccessKey)&&(console.log("[CloudHub] Found AWS credentials, showing saved state"),this.setCredentialSavedState("aws",!0),this.setProviderConfiguredState("aws",!0),o.aws&&o.aws.region&&(document.getElementById("aws-region").value=o.aws.region)),n.gcp&&(n.gcp.serviceAccount||n.gcp.projectId)&&(console.log("[CloudHub] Found GCP credentials, showing saved state"),this.setCredentialSavedState("gcp",!0),this.setProviderConfiguredState("gcp",!0),o.gcp&&o.gcp.projectId&&(document.getElementById("gcp-project").value=o.gcp.projectId)),n.azure&&(n.azure.clientId||n.azure.clientSecret)&&(console.log("[CloudHub] Found Azure credentials, showing saved state"),this.setCredentialSavedState("azure",!0),this.setProviderConfiguredState("azure",!0),o.azure&&(o.azure.tenantId&&(document.getElementById("azure-tenant-id").value=o.azure.tenantId),o.azure.subscriptionId&&(document.getElementById("azure-subscription-id").value=o.azure.subscriptionId))),n.digitalocean&&n.digitalocean.token&&(console.log("[CloudHub] Found DigitalOcean credentials, showing saved state"),this.setCredentialSavedState("digitalocean",!0),this.setProviderConfiguredState("digitalocean",!0)),console.log("[CloudHub] Finished loading credentials"),e.n=4;break;case 3:e.p=3,a=e.v,console.error("[CloudHub] Error loading credentials:",a);case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return v.apply(this,arguments)})},{key:"loadSettings",value:(f=d(i().m(function e(){var t,n,o;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.storage.local.get(["settings"]);case 1:t=e.v,n=t.settings||{},document.getElementById("auto-refresh").checked=!1!==n.autoRefresh,document.getElementById("cost-notifications").checked=!1!==n.costNotifications,document.getElementById("security-notifications").checked=!1!==n.securityNotifications,document.getElementById("ssh-method").value=n.sshMethod||"clipboard",document.getElementById("aws-os-user").value=n.awsOsUser||"ubuntu",e.n=3;break;case 2:e.p=2,o=e.v,console.error("Error loading settings:",o);case 3:return e.a(2)}},e,null,[[0,2]])})),function(){return f.apply(this,arguments)})},{key:"updateSetting",value:(g=d(i().m(function e(t,n){var o,a,r;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.storage.local.get(["settings"]);case 1:return o=e.v,(a=o.settings||{})[t]=n,e.n=2,chrome.storage.local.set({settings:a});case 2:chrome.runtime.sendMessage({action:"updateSetting",key:t,value:n}),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Error updating setting:",r);case 4:return e.a(2)}},e,null,[[0,3]])})),function(e,t){return g.apply(this,arguments)})},{key:"updateLastSync",value:function(){var e=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});document.getElementById("last-sync").textContent="Last sync: ".concat(e)}},{key:"showNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=document.createElement("div");n.className="notification notification-".concat(t),n.textContent=e,n.style.cssText="\n      position: fixed;\n      top: 10px;\n      right: 10px;\n      background: ".concat("success"===t?"#28a745":"error"===t?"#dc3545":"#007bff",";\n      color: white;\n      padding: 12px 16px;\n      border-radius: 4px;\n      font-size: 13px;\n      z-index: 1000;\n      animation: slideIn 0.3s ease;\n    "),document.body.appendChild(n),setTimeout(function(){n.remove()},3e3)}},{key:"reauthenticateDigitalOcean",value:function(){chrome.tabs.create({url:"https://cloud.digitalocean.com/login",active:!0}),this.showNotification("DigitalOcean login page opened for reauthentication","info")}},{key:"showLaunchDialog",value:function(){var e=this,t=document.createElement("div");t.innerHTML='\n      <div style="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        z-index: 10001;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      " id="launch-modal">\n        <div style="\n          background: white;\n          border-radius: 8px;\n          padding: 20px;\n          max-width: 400px;\n          width: 90%;\n          font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n        ">\n          <h3 style="margin: 0 0 16px 0;">Quick Launch Instance</h3>\n          <select id="launch-provider" style="width: 100%; margin-bottom: 12px; padding: 8px;">\n            <option value="aws">AWS EC2</option>\n            <option value="gcp">Google Cloud Compute</option>\n            <option value="azure">Azure VM</option>\n            <option value="digitalocean">DigitalOcean Droplet</option>\n          </select>\n          <input type="text" id="instance-name" placeholder="Instance name" style="width: 100%; margin-bottom: 12px; padding: 8px; box-sizing: border-box;">\n          <select id="instance-size" style="width: 100%; margin-bottom: 16px; padding: 8px;">\n            <option value="small">Small (1 CPU, 1GB RAM)</option>\n            <option value="medium">Medium (2 CPU, 4GB RAM)</option>\n            <option value="large">Large (4 CPU, 8GB RAM)</option>\n          </select>\n          <div style="display: flex; gap: 10px;">\n            <button id="launch-btn" style="\n              background: #667eea;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              flex: 1;\n            ">Launch</button>\n            <button id="launch-cancel-btn" style="\n              background: #6c757d;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              flex: 1;\n            ">Cancel</button>\n          </div>\n        </div>\n      </div>\n    ',document.body.appendChild(t),document.getElementById("launch-btn").addEventListener("click",function(){var n=document.getElementById("launch-provider").value,o=document.getElementById("instance-name").value,a=document.getElementById("instance-size").value;o?(e.launchInstance(n,o,a),t.remove()):alert("Please enter an instance name")}),document.getElementById("launch-cancel-btn").addEventListener("click",function(){t.remove()})}},{key:"showCostAlerts",value:(p=d(i().m(function e(){var n,o,a,r,s,c=this;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=0,o=[],e.p=1,e.n=2,chrome.runtime.sendMessage({action:"refreshAllProviders"});case 2:(a=e.v).success&&Object.entries(a.data).forEach(function(e){var a=t(e,2),r=a[0],i=a[1],s=i.resources?c.calculateEnhancedCost(r,i.resources):"0.00",d=parseFloat(s)||parseFloat(i.estimatedCost)||0;n+=d,d>0&&o.push({provider:r.toUpperCase(),cost:d.toFixed(2)})}),e.n=4;break;case 3:e.p=3,s=e.v,console.error("Error getting cost data:",s);case 4:(r=document.createElement("div")).innerHTML='\n      <div style="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        z-index: 10001;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      " id="cost-modal">\n        <div style="\n          background: white;\n          border-radius: 8px;\n          padding: 20px;\n          max-width: 400px;\n          width: 90%;\n          font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n        ">\n          <h3 style="margin: 0 0 16px 0;">💰 Cost Alerts</h3>\n          <div style="margin-bottom: 16px;">\n            <h4 style="margin: 0 0 8px 0; font-size: 14px;">Current Month Estimate</h4>\n            <div style="font-size: 24px; color: #28a745; font-weight: bold;">$'.concat(n.toFixed(2),'</div>\n            <div style="font-size: 12px; color: #666;">').concat(n>0?"Based on current resource usage":"No active resources detected","</div>\n          </div>\n          ").concat(o.length>0?'\n          <div style="margin-bottom: 16px;">\n            <h4 style="margin: 0 0 8px 0; font-size: 14px;">Cost Breakdown</h4>\n            '.concat(o.map(function(e){return'<div style="font-size: 12px; margin-bottom: 4px;">• '.concat(e.provider,": $").concat(e.cost,"</div>")}).join(""),"\n          </div>"):"",'\n          <div style="margin-bottom: 16px;">\n            <label style="display: block; margin-bottom: 8px; font-size: 14px;">Monthly Alert Threshold ($)</label>\n            <input type="number" id="cost-threshold" value="200" style="width: 100%; padding: 8px; box-sizing: border-box;">\n          </div>\n          <div style="display: flex; gap: 10px;">\n            <button id="cost-save-btn" style="\n              background: #667eea;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              flex: 1;\n            ">Save Alert</button>\n            <button id="cost-close-btn" style="\n              background: #6c757d;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              flex: 1;\n            ">Close</button>\n          </div>\n        </div>\n      </div>\n    '),document.body.appendChild(r),document.getElementById("cost-save-btn").addEventListener("click",function(){var e=document.getElementById("cost-threshold").value;c.updateSetting("costThreshold",e),c.showNotification("Cost alert set to $".concat(e,"/month"),"success"),r.remove()}),document.getElementById("cost-close-btn").addEventListener("click",function(){r.remove()});case 5:return e.a(2)}},e,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"runSecurityScan",value:function(){this.showNotification("Running security scan...","info"),setTimeout(function(){var e=document.createElement("div");e.innerHTML='\n        <div style="\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0,0,0,0.5);\n          z-index: 10001;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        " id="security-modal">\n          <div style="\n            background: white;\n            border-radius: 8px;\n            padding: 20px;\n            max-width: 500px;\n            width: 90%;\n            font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n          ">\n            <h3 style="margin: 0 0 16px 0;">🔒 Security Scan Results</h3>\n            <div style="margin-bottom: 16px;">\n              <div style="display: flex; align-items: center; margin-bottom: 8px;">\n                <span style="color: #dc3545; margin-right: 8px;">⚠️</span>\n                <span style="font-size: 14px;">3 High priority issues found</span>\n              </div>\n              <div style="display: flex; align-items: center; margin-bottom: 8px;">\n                <span style="color: #ffc107; margin-right: 8px;">⚠️</span>\n                <span style="font-size: 14px;">7 Medium priority issues found</span>\n              </div>\n              <div style="display: flex; align-items: center; margin-bottom: 16px;">\n                <span style="color: #28a745; margin-right: 8px;">✅</span>\n                <span style="font-size: 14px;">12 Security best practices followed</span>\n              </div>\n            </div>\n            <div style="margin-bottom: 16px;">\n              <h4 style="margin: 0 0 8px 0; font-size: 14px; color: #dc3545;">Critical Issues:</h4>\n              <div style="font-size: 12px; margin-bottom: 4px; padding: 8px; background: #f8f9fa; border-radius: 4px;">• Security group allows 0.0.0.0/0 on port 22 (SSH)</div>\n              <div style="font-size: 12px; margin-bottom: 4px; padding: 8px; background: #f8f9fa; border-radius: 4px;">• S3 bucket with public read access</div>\n              <div style="font-size: 12px; margin-bottom: 4px; padding: 8px; background: #f8f9fa; border-radius: 4px;">• Unencrypted EBS volumes detected</div>\n            </div>\n            <button id="security-close-btn" style="\n              background: #667eea;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              width: 100%;\n            ">Close</button>\n          </div>\n        </div>\n      ',document.body.appendChild(e),document.getElementById("security-close-btn").addEventListener("click",function(){e.remove()})},2e3)}},{key:"showProviderDetails",value:(u=d(i().m(function e(t){var n,o,a,r,s,c=this;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getProviderDetailsData(t);case 1:n=e.v,o=n.resources||[],(a=document.createElement("div")).className="modal-overlay",a.id="provider-modal",a.innerHTML='\n        <div class="modal-content">\n          <div class="modal-header" style="text-align: center; padding: 24px 24px 16px; border-bottom: 1px solid rgba(0, 0, 0, 0.08);">\n            <h3 style="margin: 0; font-size: 18px; font-weight: 600; color: #1d1d1f;">'.concat(this.getProviderIcon(t,!0)," ").concat(t.toUpperCase(),' Instances</h3>\n          </div>\n          <div class="modal-body" style="padding: 20px 20px 50px 20px; max-height: 430px; overflow-y: auto;">\n            <div id="loading-indicator" style="display: none; text-align: center; padding: 40px;">\n              <div style="\n                width: 32px; \n                height: 32px; \n                border: 3px solid rgba(0, 122, 255, 0.1); \n                border-top: 3px solid #007aff; \n                border-radius: 50%; \n                animation: spin 1s linear infinite; \n                margin: 0 auto 16px;\n              "></div>\n              <div style="color: #86868b; font-size: 14px;">Loading instances...</div>\n            </div>\n            <div id="content-area">\n              ').concat(0===o.length?'\n                <div style="text-align: center; padding: 40px; color: #86868b;">\n                  <div style="font-size: 48px; margin-bottom: 16px;">☁️</div>\n                  <div style="font-size: 16px; margin-bottom: 8px; color: #1d1d1f;">No instances found</div>\n                  <div style="font-size: 14px;">Make sure your credentials are configured correctly</div>\n                </div>\n              ':'\n                <div>\n                  <div style="font-size: 14px; color: #86868b; margin-bottom: 12px;">\n                    Found '.concat(o.length," instance").concat(1!==o.length?"s":""," • Monthly cost: $").concat(n.totalCost,'\n                  </div>\n                  <div style="margin-bottom: 16px;">\n                    <input \n                      type="text" \n                      id="instance-search" \n                      placeholder="Search instances by name, status, or IP..."\n                      style="\n                        width: 100%;\n                        padding: 12px 16px;\n                        border: 1px solid rgba(0, 0, 0, 0.15);\n                        border-radius: 12px;\n                        font-size: 13px;\n                        font-weight: 400;\n                        letter-spacing: -0.01em;\n                        box-sizing: border-box;\n                        background: rgba(255, 255, 255, 0.8);\n                        backdrop-filter: blur(20px);\n                        transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.9);\n                      "\n                      onfocus="this.style.borderColor=\'#007aff\'; this.style.boxShadow=\'0 0 0 4px rgba(0, 122, 255, 0.15), 0 4px 16px rgba(0, 122, 255, 0.1)\'"\n                      onblur="this.style.borderColor=\'rgba(0, 0, 0, 0.15)\'; this.style.boxShadow=\'0 2px 8px rgba(0, 0, 0, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.9)\'"\n                    >\n                  </div>\n                  <div class="instances-list" style="\n                    max-height: 320px;\n                    overflow-y: auto;\n                    padding-right: 4px;\n                    display: flex;\n                    flex-direction: column;\n                  ">\n                    ').concat(o.map(function(e){return c.createInstanceCard(e,t)}).join(""),"\n                  </div>\n                </div>\n              "),'\n            </div>\n          </div>\n          <div class="modal-footer" style="\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            padding: 8px 16px; \n            border-top: 1px solid rgba(0, 0, 0, 0.08); \n            display: flex; \n            justify-content: flex-end; \n            gap: 8px;\n            background: rgba(248, 249, 250, 0.95);\n            backdrop-filter: blur(20px);\n            border-radius: 0 0 20px 20px;\n          ">\n            <button id="refresh-instances-btn" class="btn-refresh" style="\n              background: #007aff;\n              color: white;\n              border: none;\n              border-radius: 8px;\n              padding: 6px 12px;\n              font-size: 11px;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s;\n            "\n            onmouseover="this.style.background=\'#005ce6\'"\n            onmouseout="this.style.background=\'#007aff\'">\n              ↻\n            </button>\n            <button id="provider-close-btn" class="btn-close" style="\n              background: rgba(0, 0, 0, 0.1);\n              color: #1d1d1f;\n              border: none;\n              border-radius: 8px;\n              padding: 6px 12px;\n              font-size: 11px;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s;\n            "\n            onmouseover="this.style.background=\'rgba(0, 0, 0, 0.2)\'"\n            onmouseout="this.style.background=\'rgba(0, 0, 0, 0.1)\'">\n              ✕\n            </button>\n          </div>\n        </div>\n    '),document.body.appendChild(a),requestAnimationFrame(function(){a.classList.add("show"),a.querySelector(".modal-content").classList.add("show")}),a.querySelectorAll(".instance-action-btn").forEach(function(e){e.addEventListener("click",function(n){n.stopPropagation();var o=e.closest(".instance-card"),a=o.dataset.instanceId,r=o.dataset.instanceName,i=o.dataset.publicIp,s=o.dataset.status,d=o.dataset.region,l=e.dataset.action;"ssh"===l?"running"!==s&&"active"!==s||!i?c.showNotification("Instance ".concat(r," is not running or has no public IP"),"warning"):c.handleInstanceSSH(t,a,r,i,d):"console"===l?c.openInstanceConsole(t,a.replace("".concat(t,":"),""),d):"delete"===l&&c.handleInstanceDelete(t,a,r)})}),(r=document.getElementById("instance-search"))&&(r.addEventListener("input",function(e){var t=e.target.value.toLowerCase().trim(),r=a.querySelectorAll(".instance-card");r.forEach(function(e){var n=e.dataset.instanceName.toLowerCase(),o=e.dataset.status.toLowerCase(),a=e.dataset.publicIp||"",r=e.dataset.region||"",i=n.includes(t)||o.includes(t)||a.includes(t)||r.toLowerCase().includes(t);e.style.display=i?"block":"none"});var i=Array.from(r).filter(function(e){return"none"!==e.style.display}).length,s=a.querySelector('.modal-body div[style*="font-size: 14px"]');s&&t?s.innerHTML="Showing ".concat(i," of ").concat(o.length," instance").concat(1!==o.length?"s":""," • Monthly cost: $").concat(n.totalCost):s&&(s.innerHTML="Found ".concat(o.length," instance").concat(1!==o.length?"s":""," • Monthly cost: $").concat(n.totalCost))}),setTimeout(function(){return r.focus()},100)),s=function(){a.classList.remove("show"),a.querySelector(".modal-content").classList.remove("show"),setTimeout(function(){return a.remove()},400)},document.getElementById("refresh-instances-btn").addEventListener("click",d(i().m(function e(){var n,o,r,d,l;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=a.querySelector("#loading-indicator"),o=a.querySelector("#content-area"),r=document.getElementById("refresh-instances-btn"),n.style.display="block",o.style.display="none",r.disabled=!0,r.textContent="Refreshing...",r.style.opacity="0.6",e.p=1,e.n=2,chrome.runtime.sendMessage({action:"getProviderDetails",provider:t});case 2:if(!(d=e.v).success){e.n=4;break}return s(),e.n=3,new Promise(function(e){return setTimeout(e,300)});case 3:c.showProviderDetails(t),e.n=5;break;case 4:throw new Error(d.error||"Failed to refresh");case 5:e.n=7;break;case 6:e.p=6,l=e.v,console.error("Error refreshing instances:",l),c.showNotification("Failed to refresh instances","error"),n.style.display="none",o.style.display="block",r.disabled=!1,r.innerHTML="↻",r.style.opacity="1";case 7:return e.a(2)}},e,null,[[1,6]])}))),document.getElementById("provider-close-btn").addEventListener("click",s),a.addEventListener("click",function(e){e.target===a&&s()});case 2:return e.a(2)}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"createInstanceCard",value:function(e,t){var n="running"===e.status||"active"===e.status?"#28a745":"stopped"===e.status||"deallocated"===e.status?"#dc3545":"#ffc107",o=("running"===e.status||"active"===e.status)&&e.publicIp;return'\n      <div class="instance-card" \n           data-instance-id="'.concat(e.id,'" \n           data-instance-name="').concat(e.name,'"\n           data-public-ip="').concat(e.publicIp||"",'"\n           data-status="').concat(e.status,'"\n           data-region="').concat(e.region||"",'"\n           style="\n             border: 1px solid #e1e5e9;\n             border-radius: 8px;\n             padding: 16px;\n             margin-bottom: 12px;\n             cursor: ').concat(o?"pointer":"default",";\n             transition: all 0.2s;\n             background: ").concat(o?"white":"#f8f9fa",";\n             ").concat(o?"box-shadow: 0 2px 4px rgba(0,0,0,0.1);":"",'\n           "\n           data-can-ssh="').concat(o,'">\n        \n        <div style="display: flex; justify-content: between; align-items: flex-start; margin-bottom: 8px;">\n          <div style="flex: 1;">\n            <div style="font-weight: 600; font-size: 16px; margin-bottom: 4px; color: #333;">\n              ').concat(e.name,'\n            </div>\n            <div style="font-size: 12px; color: #666; font-family: monospace;">\n              ').concat(e.id.replace("".concat(t,":"),""),'\n            </div>\n          </div>\n          <div style="text-align: right;">\n            <span style="\n              background: ').concat(n,';\n              color: white;\n              padding: 2px 8px;\n              border-radius: 12px;\n              font-size: 11px;\n              font-weight: 500;\n            ">').concat(e.status,'</span>\n          </div>\n        </div>\n        \n        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">\n          <div style="font-size: 13px; color: #86868b;">\n            ').concat(e.publicIp?"🌐 ".concat(e.publicIp):"🔒 No public IP","\n            ").concat(e.region?" • ".concat(e.region):"",'\n          </div>\n        </div>\n        \n        <div class="instance-actions" style="display: flex; gap: 8px; margin-top: 12px; padding-top: 12px; border-top: 0.5px solid rgba(0, 0, 0, 0.08);">\n          ').concat(o?'\n            <button class="instance-action-btn ssh-btn" data-action="ssh" style="\n              flex: 1;\n              background: linear-gradient(135deg, #007aff 0%, #005ce6 100%);\n              color: white;\n              border: none;\n              border-radius: 8px;\n              padding: 8px 12px;\n              font-size: 11px;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n              box-shadow: 0 2px 8px rgba(0, 122, 255, 0.2);\n            ">\n              ⚡ SSH\n            </button>\n          ':"",'\n          <button class="instance-action-btn console-btn" data-action="console" style="\n            flex: 1;\n            background: rgba(0, 0, 0, 0.04);\n            color: #1d1d1f;\n            border: 0.5px solid rgba(0, 0, 0, 0.1);\n            border-radius: 8px;\n            padding: 8px 12px;\n            font-size: 11px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          ">\n            🖥️ Console\n          </button>\n          ').concat("digitalocean"===t?'\n            <button class="instance-action-btn delete-btn" data-action="delete" style="\n              background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);\n              color: white;\n              border: none;\n              border-radius: 8px;\n              padding: 8px 12px;\n              font-size: 11px;\n              font-weight: 600;\n              cursor: pointer;\n              transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n              box-shadow: 0 2px 8px rgba(220, 53, 69, 0.2);\n            ">\n              🗑️ Delete\n            </button>\n          ':"","\n        </div>\n        </div>\n        \n        ").concat(e.createdAt?'\n          <div style="font-size: 11px; color: #999; margin-top: 8px; border-top: 1px solid #f1f3f4; padding-top: 8px;">\n            Created: '.concat(new Date(e.createdAt).toLocaleDateString(),"\n          </div>\n        "):"","\n      </div>\n    ")}},{key:"handleInstanceSSH",value:(c=d(i().m(function e(t,n,o,a){var r,s,c,d,l,u,p=arguments;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=p.length>4&&void 0!==p[4]?p[4]:"",(s=document.getElementById("provider-modal"))&&s.remove(),this.showNotification("Connecting to ".concat(o,"..."),"info"),e.p=1,c="ubuntu","aws"!==t){e.n=3;break}return e.n=2,chrome.storage.local.get(["settings"]);case 2:l=e.v,c=(null===(d=l.settings)||void 0===d?void 0:d.awsOsUser)||"ubuntu";case 3:return e.n=4,chrome.runtime.sendMessage({action:"simulateSSHClick",provider:t,instanceId:n.replace("".concat(t,":"),""),instanceName:o,publicIp:a,region:r,osUser:c});case 4:e.v.success?this.showNotification("SSH connection initiated for ".concat(o),"success"):this.openCloudProviderConsole(t,n.replace("".concat(t,":"),"")),e.n=6;break;case 5:e.p=5,u=e.v,console.error("Error initiating SSH:",u),this.openCloudProviderConsole(t,n.replace("".concat(t,":"),""));case 6:return e.a(2)}},e,this,[[1,5]])})),function(e,t,n,o){return c.apply(this,arguments)})},{key:"handleInstanceDelete",value:(s=d(i().m(function e(t,n,o){var a,r,s;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm('Are you sure you want to delete "'.concat(o,'"?\n\n')+"This action cannot be undone. The droplet and all its data will be permanently destroyed.")){e.n=1;break}return e.a(2);case 1:return(a=document.getElementById("provider-modal"))&&a.remove(),this.showNotification("Deleting ".concat(o,"..."),"info"),e.p=2,e.n=3,chrome.runtime.sendMessage({action:"performResourceAction",resourceAction:"delete",resourceId:n});case 3:(r=e.v).success?(this.showNotification("".concat(o," deleted successfully"),"success"),this.refreshDashboard()):this.showNotification("Failed to delete ".concat(o,": ").concat(r.error||"Unknown error"),"error"),e.n=5;break;case 4:e.p=4,s=e.v,console.error("Error deleting instance:",s),this.showNotification("Error deleting ".concat(o,": ").concat(s.message),"error");case 5:return e.a(2)}},e,this,[[2,4]])})),function(e,t,n){return s.apply(this,arguments)})},{key:"openInstanceConsole",value:function(e,t){var n,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"us-east-1";switch(e){case"aws":var r=a||"us-east-1";n="https://".concat(r,".console.aws.amazon.com/ec2/home?region=").concat(r,"#InstanceDetails:instanceId=").concat(t);break;case"digitalocean":n="https://cloud.digitalocean.com/droplets/".concat(t);break;case"gcp":n="https://console.cloud.google.com/compute/instancesDetail/zones/us-central1-a/instances/".concat(t);break;case"azure":n="https://portal.azure.com/#@/resource/subscriptions/[subscription]/resourceGroups/[resourceGroup]/providers/Microsoft.Compute/virtualMachines/".concat(t,"/overview");break;default:return void this.showNotification("Console access not supported for this provider yet","warning")}var i=document.getElementById("provider-modal");i&&(i.classList.remove("show"),i.querySelector(".modal-content").classList.remove("show"),setTimeout(function(){return i.remove()},400)),chrome.tabs.create({url:n},function(){o.showNotification("Opened ".concat(e.toUpperCase()," console for this instance"),"info")})}},{key:"openCloudProviderConsole",value:function(e,t){this.openInstanceConsole(e,t)}},{key:"exportData",value:function(){var e=this;chrome.runtime.sendMessage({action:"refreshAllProviders"},function(t){if(t.success){var n={timestamp:(new Date).toISOString(),providers:t.data,settings:{}};chrome.storage.local.get(["settings"],function(t){n.settings=t.settings||{};var o=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(o),r=document.createElement("a");r.href=a,r.download="cloudhub-export-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),e.showNotification("Data exported successfully!","success")})}else e.showNotification("Failed to export data","error")})}},{key:"launchInstance",value:(r=d(i().m(function e(t,n,o){var a,r,s=this;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"launchInstance",provider:t,instanceName:n,instanceSize:o});case 1:(a=e.v).success?(this.showNotification("".concat(n," launched successfully on ").concat(t.toUpperCase(),"!"),"success"),setTimeout(function(){return s.refreshDashboard()},3e3)):this.showNotification("Failed to launch instance: ".concat(a.error),"error"),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error launching instance:",r),this.showNotification("Error launching instance","error");case 3:return e.a(2)}},e,this,[[0,2]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"getProviderDetailsData",value:(o=d(i().m(function e(t){var n,o;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,chrome.runtime.sendMessage({action:"getProviderDetails",provider:t});case 1:if(!(n=e.v).success){e.n=2;break}return e.a(2,{icon:this.getProviderIcon(t),totalCost:n.data.estimatedCost||"0.00",resources:n.data.resources||[],costBreakdown:n.data.costBreakdown||[]});case 2:e.n=4;break;case 3:e.p=3,o=e.v,console.error("Error getting provider details:",o);case 4:return e.a(2,{icon:this.getProviderIcon(t),totalCost:"0.00",resources:[],costBreakdown:[]})}},e,this,[[0,3]])})),function(e){return o.apply(this,arguments)})},{key:"getProviderIcon",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?'<img src="'.concat({aws:"icons/aws-icon.png",gcp:"icons/gcp-icon.png",azure:"icons/azure-icon.png",digitalocean:"icons/digitalocean-icon.png"}[e]||"icons/aws-icon.png",'" alt="').concat(e,'" class="provider-icon-img" style="width: 24px; height: 24px; margin-right: 8px; vertical-align: middle;" />'):{aws:"☁️",gcp:"🔵",azure:"🔷",digitalocean:"💧"}[e]||"☁️"}},{key:"calculateEnhancedCost",value:function(e,t){if(!t||0===t.length)return"0.00";var n={aws:{"t2.nano":.0058,"t2.micro":.0116,"t2.small":.023,"t2.medium":.0464,"t3.micro":.0104,"t3.small":.0208,"m5.large":.096,default:.0116},digitalocean:{"s-1vcpu-1gb":5,"s-1vcpu-2gb":10,"s-2vcpu-2gb":15,"s-2vcpu-4gb":20,"s-4vcpu-8gb":40,default:10},gcp:{"f1-micro":.0076,"g1-small":.027,"n1-standard-1":.0475,"n1-standard-2":.095,default:.027},azure:{Standard_B1s:.0052,Standard_B1ms:.0104,Standard_B2s:.0208,Standard_D2s_v3:.096,default:.0104}},o=0;return t.forEach(function(t){var a=t.instanceType||t.size||"default";if("running"===t.status||"active"===t.status)if("digitalocean"===e){var r=n[e][a]||n[e].default;o+=r}else{var i=n[e][a]||n[e].default;o+=720*i}}),o.toFixed(2)}},{key:"clearAllData",value:function(){var e=this;confirm("Are you sure you want to clear all data? This will remove all credentials and settings.")&&chrome.storage.local.clear(function(){e.showNotification("All data cleared successfully","success"),setTimeout(function(){return window.location.reload()},1e3)})}}],n&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o,r,s,c,u,p,g,f,v,m,h,y}();console.log("[CloudHub] Setting up DOMContentLoaded listener..."),document.addEventListener("DOMContentLoaded",function(){console.log("[CloudHub] DOMContentLoaded fired, creating CloudHubPopup..."),new p}),console.log("[CloudHub] popup.js finished loading")})();